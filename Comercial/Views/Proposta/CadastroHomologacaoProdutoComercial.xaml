<UserControl x:Class="Comercial.Views.Proposta.CadastroHomologacaoProdutoComercial"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             xmlns:local="clr-namespace:Comercial.Views.Proposta"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="1150" Background="White">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Título -->
            <RowDefinition Height="Auto"/>
            <!-- Linha com Dados Produto + Custo -->
            <RowDefinition Height="*"/>
            <!-- Lista da Homologação -->
            <RowDefinition Height="Auto"/>
            <!-- Dados da Homologação -->
            <RowDefinition Height="Auto"/>
            <!-- Botões -->
        </Grid.RowDefinitions>

        <!-- LINHA COM: Dados Produto Comercial + Custo -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1.5*"/>
            </Grid.ColumnDefinitions>

            <!-- DADOS PRODUTO COMERCIAL -->
            <GroupBox Header="Dados Produto Comercial" Grid.Column="0" Margin="0,0,10,0">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Família -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Família:" VerticalAlignment="Center"/>
                    <telerik:RadComboBox
                        x:Name="rcBoxFamilia" 
                        Grid.Row="0" Grid.Column="1"
                        ItemsSource="{Binding ComercialPropostaFamilias}"
                        DisplayMemberPath="familia"
                        SelectedValuePath="id" 
                        SelectionChanged="rcBoxFamilia_SelectionChanged" />

                    <!-- Descrição -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Descrição:" VerticalAlignment="Center"/>
                    <!--<TextBox   Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" Margin="0,5,0,0"/>-->
                    <telerik:RadAutoSuggestBox 
                        x:Name="rasBoxDescricao" 
                        ItemsSource="{Binding DescricoesComercial}"
                        TextChanged="rasBoxDescricao_TextChanged"
                        DisplayMemberPath="descricaocomercial"
                        TextMemberPath="descricaocomercial"
                        Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" 
                        Margin="0,5,0,0"
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxDescricao_SuggestionChosen" 
                        GotFocus="rasBox_GotFocus"/>

                    <!-- Dimensões -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Dimensões:" VerticalAlignment="Center"/>
                    <telerik:RadAutoSuggestBox 
                        x:Name="rasBoxDimenssao" 
                        ItemsSource="{Binding DimensoesComercial}"
                        TextChanged="rasBoxDimenssao_TextChanged"
                        DisplayMemberPath="dimensao"
                        TextMemberPath="dimensao"
                        Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="4" 
                        Margin="0,5,0,0"
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxDimenssao_SuggestionChosen"
                        GotFocus="rasBox_GotFocus"/>
                </Grid>
            </GroupBox>

            <!-- CUSTO -->
            <GroupBox Header="Custo" Grid.Column="1">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="90"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="90"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="90"/>
                    </Grid.ColumnDefinitions>

                    <!-- Primeira linha de custos (Apurado, Estimado, índice) -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Apurado:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBox x:Name="txtcustoapurado"  
                        Grid.Row="0" Grid.Column="1" 
                        Margin="0,0,10,0" 
                        TextAlignment="Center"
                        IsReadOnly="True"/>

                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Estimado:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBox x:Name="txtcustoestimado"  
                        Grid.Row="0" Grid.Column="3" 
                        Margin="0,0,10,0" 
                        TextAlignment="Center" 
                        IsReadOnly="True"/>

                    <TextBlock Grid.Row="0" Grid.Column="4" Text="Índice:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBox x:Name="txtindicedimensoa"  
                        Grid.Row="0" Grid.Column="5" 
                        Margin="0,0,0,0" 
                        TextAlignment="Center"
                        IsReadOnly="True"/>

                    <!-- Segunda linha (Índice LED, Histórico, Preço NF) -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Índice LED:" VerticalAlignment="Center" Margin="0,5,5,0"/>
                    <TextBox x:Name="txtindiceled"  
                        Grid.Row="1" Grid.Column="1" 
                        Margin="0,5,10,0" 
                        TextAlignment="Center"
                        IsReadOnly="True"/>

                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Histórico:" VerticalAlignment="Center" Margin="0,5,5,0"/>
                    <TextBox x:Name="custo_historico"  
                        Grid.Row="1" Grid.Column="3" 
                        Margin="0,5,10,0" 
                        TextAlignment="Center"
                        IsReadOnly="True"/>

                    <TextBlock Grid.Row="1" Grid.Column="4" Text="Preço NF:" VerticalAlignment="Center" Margin="0,5,5,0"/>
                    <TextBox x:Name="preco_nf"  
                        Grid.Row="1" Grid.Column="5" 
                        Margin="0,5,0,0" 
                        TextAlignment="Center"
                        IsReadOnly="True"/>
                </Grid>
            </GroupBox>
        </Grid>

        <!-- LISTA DA HOMOLOGAÇÃO -->
        <GroupBox Grid.Row="2" Header="Lista da Homologação" Margin="0,0,0,10">
            <telerik:RadGridView 
                x:Name="rgViewHomologacao"
                IsReadOnly="True"
                ItemsSource="{Binding ItensHomologados}"
                SelectedItem="{Binding ItemHomologado}"
                AutoGenerateColumns="False"
                ShowGroupPanel="False"
                CanUserFreezeColumns="False"
                Margin="10" 
                SelectionMode="Extended"
                ClipboardCopyMode="Cells, Header"
                MouseDoubleClick="rgViewHomologacao_MouseDoubleClick" CanUserDeleteRows="False" >
                <telerik:RadGridView.Columns>
                    <telerik:GridViewDataColumn Header="ORDEM" DataMemberBinding="{Binding id}" Width="80"/>
                    <telerik:GridViewDataColumn Header="PLANILHA" DataMemberBinding="{Binding planilha}" Width="100"/>
                    <telerik:GridViewDataColumn Header="DESCRIÇÃO" DataMemberBinding="{Binding descricao_completa}" Width="*"/>
                    <telerik:GridViewDataColumn Header="UNI" DataMemberBinding="{Binding unidade}" Width="60"/>
                    <telerik:GridViewDataColumn Header="QTD" DataMemberBinding="{Binding qtd}" Width="80" TextAlignment="Right"/>
                    <telerik:GridViewDataColumn Header="VALOR UNITÁRIO" DataMemberBinding="{Binding vlr_unitario}" Width="120" TextAlignment="Right" DataFormatString="{}{0:N2}"/>
                    <telerik:GridViewDataColumn Header="VALOR TOT" DataMemberBinding="{Binding vlr_total}" Width="120" TextAlignment="Right" DataFormatString="{}{0:N2}"/>
                    <!--
                    <telerik:GridViewDataColumn Header="ÍNDICE PROPOSTA" DataMemberBinding="{Binding IndicePropos}" Width="120" TextAlignment="Right" DataFormatString="{}{0:N4}"/>
                    <telerik:GridViewDataColumn Header="ÍNDICE LED" DataMemberBinding="{Binding IndicePropos}" Width="120" TextAlignment="Right" DataFormatString="{}{0:N4}"/>
                    <telerik:GridViewDataColumn Header="CONSULTA ESTOQUE" DataMemberBinding="{Binding IndicePropos}" Width="120" TextAlignment="Right" DataFormatString="{}{0:N4}"/>
                    -->
                </telerik:RadGridView.Columns>
            </telerik:RadGridView>
        </GroupBox>

        <!-- DADOS DA HOMOLOGAÇÃO -->
        <GroupBox Grid.Row="3" Header="Dados da Homologação" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- LINHA 1 -->
                <Grid Grid.Row="0" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="ORDEM:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                    <TextBox x:Name="txtOrdem" Grid.Column="1" Margin="0,0,10,0" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>

                    <TextBlock Grid.Column="2" Text="PLANILHA:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                    <!--<telerik:RadAutoSuggestBox
                        x:Name="rasBoxPlanilha" 
                        ItemsSource="{Binding Planilhas}"
                        TextChanged="rasBoxPlanilha_TextChanged"
                        DisplayMemberPath="planilha"
                        TextMemberPath="planilha"
                        Grid.Row="0" Grid.Column="3"
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxPlanilha_SuggestionChosen"
                        GotFocus="rasBox_GotFocus"/>-->
                    <telerik:RadComboBox
                        x:Name="rcBoxPlanilha" 
                        Grid.Row="0" Grid.Column="3"
                        ItemsSource="{Binding Planilhas}"
                        DisplayMemberPath="planilha"
                        SelectedValuePath="planilha" 
                        TextSearchMode="Contains" 
                        IsFilteringEnabled="True"
                        SelectionChanged="rcBoxPlanilha_SelectionChanged"/>

                    <TextBlock Grid.Column="4" Text="DESCRIÇÃO:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                    <!--<telerik:RadAutoSuggestBox
                        x:Name="rasBoxDescricaoProduto" 
                        ItemsSource="{Binding Descricoes}"
                        TextChanged="rasBoxDescricaoProduto_TextChanged"
                        DisplayMemberPath="descricao"
                        TextMemberPath="descricao"
                        Grid.Row="0" Grid.Column="5" 
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxDescricaoProduto_SuggestionChosen"
                        GotFocus="rasBox_GotFocus"/>-->
                    <telerik:RadComboBox
                        x:Name="rcBoxDescricaoProduto" 
                        Grid.Row="0" Grid.Column="5"
                        ItemsSource="{Binding Descricoes}"
                        DisplayMemberPath="descricao"
                        SelectedValuePath="descricao" 
                        TextSearchMode="Contains" 
                        IsFilteringEnabled="True"
                        SelectionChanged="rcBoxDescricaoProduto_SelectionChanged"/>
                </Grid>

                <!-- LINHA 2 -->
                <Grid Grid.Row="1" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="DESCRIÇÃO ADICIONAL:" VerticalAlignment="Center" Margin="-4,0,5,0"/>
                    <!--<telerik:RadAutoSuggestBox
                        x:Name="rasBoxDescricaoAdicional" 
                        ItemsSource="{Binding DescricaoAdicionais}"
                        TextChanged="rasBoxDescricaoAdicionalo_TextChanged"
                        DisplayMemberPath="descricao_adicional"
                        TextMemberPath="descricao_adicional"
                        Grid.Row="0" Grid.Column="1" 
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxDescricaoAdicionalo_SuggestionChosen"
                        GotFocus="rasBox_GotFocus"/>-->
                    <telerik:RadComboBox
                        x:Name="rcBoxDescricaoAdicional" 
                        Grid.Row="0" Grid.Column="1"
                        ItemsSource="{Binding DescricaoAdicionais}"
                        DisplayMemberPath="descricao_adicional"
                        SelectedValuePath="descricao_adicional" 
                        TextSearchMode="Contains" 
                        IsFilteringEnabled="True"
                        SelectionChanged="rcBoxDescricaoAdicional_SelectionChanged"/>

                </Grid>

                <!-- LINHA 2 -->
                <Grid Grid.Row="2" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="100"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="COMPLEMENTO ADICIONAL:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                    <!--<telerik:RadAutoSuggestBox
                        x:Name="rasBoxComplementoAdicional" 
                        ItemsSource="{Binding ComplementoAdicionais}"
                        TextChanged="rasBoxComplementoAdicional_TextChanged"
                        DisplayMemberPath="complementoadicional"
                        TextMemberPath="complementoadicional"
                        Grid.Row="0" Grid.Column="1"
                        QueryButtonVisibility="Collapsed"
                        SuggestionChosen="rasBoxComplementoAdicional_SuggestionChosen"
                        GotFocus="rasBox_GotFocus"/>-->
                    <telerik:RadComboBox
                        x:Name="rcBoxComplementoAdicional" 
                        Grid.Row="0" Grid.Column="1"
                        ItemsSource="{Binding ComplementoAdicionais}"
                        DisplayMemberPath="complementoadicional"
                        SelectedValuePath="complementoadicional" 
                        TextSearchMode="Contains" 
                        IsFilteringEnabled="True"
                        SelectionChanged="rcBoxComplementoAdicional_SelectionChanged"/>

                    <TextBlock Grid.Column="2" Text="UNIDADE:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                    <TextBox 
                        x:Name="txtUnidade" 
                        Grid.Column="3" 
                        VerticalContentAlignment="Center" 
                        HorizontalContentAlignment="Center"
                        IsReadOnly="True"/>

                    <TextBlock Grid.Column="4" Text="QUATIDADE:" VerticalAlignment="Center" Margin="3,0,5,0"/>
                    <TextBox 
                        x:Name="txtQuantidade" 
                        Grid.Column="5" 
                        VerticalContentAlignment="Center" 
                        HorizontalContentAlignment="Center"/>

                </Grid>

                <!-- LINHA 3 -->
                <Grid Grid.Row="4" Margin="0,0,0,2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="auto"/>
                    </Grid.ColumnDefinitions>

                    <CheckBox 
                        x:Name="concluido" 
                        Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" 
                        Content="FINALIZADO" 
                        VerticalAlignment="Center" Margin="5,0,5,0" Click="concluido_Click"/>

                    <TextBlock Grid.Row="0" Grid.Column="1" Text="FINALIZADO POR:" Margin="5,0,5,0"/>
                    <TextBox 
                        x:Name="concluido_por" 
                        Grid.Row="0" Grid.Column="2" 
                        IsReadOnly="True" Margin="5,0,5,0" IsEnabled="False"/>

                    <TextBlock Grid.Row="1" Grid.Column="1" Text="FINALIZADO DATA:" Margin="5,0,5,0"/>
                    <telerik:RadDatePicker 
                        x:Name="concluido_data" 
                        Grid.Row="1" Grid.Column="2" 
                        IsReadOnly="True" Margin="5,0,5,5" IsEnabled="False"/>

                </Grid>
            </Grid>
        </GroupBox>

        <!-- BOTÕES -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="btnLimpar" Content="LIMPAR" Width="100" Margin="0,0,5,0" Click="btnLimpar_Click"/>
            <Button x:Name="btnIncluir" Content="INCLUIR" Width="100" Margin="0,0,5,0" Click="btnIncluir_Click"/>
            <Button x:Name="btnAlterar" Content="ALTERAR" Width="100" Margin="0,0,5,0" Click="btnAlterar_Click"/>
            <Button x:Name="btnExcluir" Content="EXCLUIR" Width="100" Margin="0,0,5,0" Click="btnExcluir_Click"/>
            <Button x:Name="btnCopiar" Content="COPIAR" Width="100" Margin="0,0,5,0" Click="btnCopiar_Click"/>
            <Button x:Name="btnAtualizarCusto" Content="ATUALIZA CUSTO" Width="140" Click="btnAtualizarCusto_Click"/>
        </StackPanel>
    </Grid>



</UserControl>
